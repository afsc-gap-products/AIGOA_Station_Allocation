[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"package maintainer. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ww (2023). StationAllocationAIGOA: Package (Title Case). R package version 0.1.0.","code":"@Manual{,   title = {StationAllocationAIGOA: What the Package Does (Title Case)},   author = {Who wrote it},   year = {2023},   note = {R package version 0.1.0}, }"},{"path":"/index.html","id":"station-allocation-procedure-aleutian-islands-and-gulf-of-alaska-bottom-trawl-surveys","dir":"","previous_headings":"","what":"What the Package Does (Title Case)","title":"What the Package Does (Title Case)","text":"package intended used document reproduce station allocation Aleutian Islands (even years, 2022-) Gulf Alaska (odd years, 2025-) bottom trawl surveys.","code":""},{"path":"/index.html","id":"install","dir":"","previous_headings":"","what":"Install","title":"What the Package Does (Title Case)","text":"","code":"library(devtools) devtools::install_github(\"barcaroli/SamplingStrata\") devtools::install_github(\"afsc-gap-products/StationAllocationAIGOA\")"},{"path":"/index.html","id":"station-allocation-gulf-of-alaska-2023-bottom-trawl-survey","dir":"","previous_headings":"Install","what":"Station Allocation: Gulf of Alaska 2023 Bottom Trawl Survey","title":"What the Package Does (Title Case)","text":"","code":"spp_list <- c(\"walleye pollock\", \"Pacific cod\", \"arrowtooth flounder\",                \"flathead sole\", \"rex sole\", \"northern rock sole\",                \"southern rock sole\", \"Dover sole\", \"Pacific halibut\",                \"Pacific ocean perch\", \"BS and RE rockfishes\",                \"silvergray rockfish\", \"dusky rockfish\", \"northern rockfish\",               \"shortspine thornyhead\")  GOA_allocation_2025 <-        StationAllocationAIGOA::goa_allocate_stations(           species = spp_list,            n = 550,            min_n_per_stratum = 4,            year = 2025,           trawl = c(\"Y\", \"UNK\", \"N\")[1:2])"},{"path":"/index.html","id":"station-allocation-aleutian-islands-2022-bottom-trawl-survey","dir":"","previous_headings":"Install","what":"Station Allocation: Aleutian Islands 2022 Bottom Trawl Survey","title":"What the Package Does (Title Case)","text":"package holds functions used randomly draw allocate survey stations Aleutian Islands Gulf Alaska bottom trawl survey. code originally produced Paul von Szalay Ned Laman. package maintained Zack Oyafuso intended formalize set functions saved G drive (G:/GOA/R/survey planning/.RData).","code":""},{"path":"/index.html","id":"inputs","dir":"","previous_headings":"Install > Station Allocation: Aleutian Islands 2022 Bottom Trawl Survey","what":"Inputs","title":"What the Package Does (Title Case)","text":"goa.planning() main wrapper function performs allocations consists nested subfunctions. able just run goa.planning() function ask several user inputs executing main program, including: Survey name (AI/GOA/EBSSLOPE) Oracle password AIGOA_WORK_DATA schema Total number stations allocate Survey year Output directory (pseudocode) hierarchy goa.planning() function :","code":"goa.planning() { ## main wrapper function  get.ai.stations() ## query available Aleutian Islands stations  allocate.effort() { ## allocate available stations across strata   get.planning.data() ## caluclate stratum-level catch stats   plot.allocations.by.stratum() { ## output allocation plots by stratum      plot.strata.stations() ##  plot stations across stratum     }   }  pick.gridpoints() ## randomly sample stations based on stratified random allocations  vessel.allocation() ## allocate stations across vessels  }"},{"path":"/index.html","id":"output","dir":"","previous_headings":"Install > Station Allocation: Aleutian Islands 2022 Bottom Trawl Survey","what":"Output","title":"What the Package Does (Title Case)","text":"AIallocations.xlsx: vessel allocation, station id, stratum id, lat/lon sampled stations. AIallocations.csv: AIallocations.xlsx csv form. AllocationPlotsByStratum.pdf: output plots","code":""},{"path":"/index.html","id":"legal-disclaimer","dir":"","previous_headings":"","what":"Legal disclaimer","title":"What the Package Does (Title Case)","text":"repository software product official communication National Oceanic Atmospheric Administration (NOAA), United States Department Commerce (DOC). NOAA GitHub project code provided ‘’ basis user assumes responsibility use. claims DOC DOC bureaus stemming use GitHub project governed applicable Federal law. reference specific commercial products, processes, services service mark, trademark, manufacturer, otherwise, constitute imply endorsement, recommendation, favoring DOC. DOC seal logo, seal logo DOC bureau, shall used manner imply endorsement commercial product activity DOC United States Government.","code":""},{"path":"/reference/allocate.effort.html","id":null,"dir":"Reference","previous_headings":"","what":"Allocate stations across strata — allocate.effort","title":"Allocate stations across strata — allocate.effort","text":"Allocates stations across strata based : stratum size, historical standard devation cpue, ex vessel price, abundance preselected subset species, time takes complete tows. (Reference tech memo exactly Neyman Allocations handled?). Updates code Ned: Initial changes reformat code preferred configuration Added \", believeNRows = FALSE\" odbc calls version 3.0.1 R Added package XLConnect provide functionality read Excel workbooks version 3.0.1 R 64-bit environment Created 12/18/13","code":""},{"path":"/reference/allocate.effort.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Allocate stations across strata — allocate.effort","text":"","code":"allocate.effort(   survey,   channel = NA,   schema,   pwrd,   points,   stations.available,   number.of.tows = 741,   output.file )"},{"path":"/reference/allocate.effort.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Allocate stations across strata — allocate.effort","text":"survey character string. Defaults \"AI\" Aleutian Islands channel open connection object. Created RODBC::odbcConnect() schema character string. SQL schema name. Defaults AIGOA_WORK_DATA pwrd character string. SQL password points dataframe potential station locations queried SQL, called AIGOASurveyPlanning::goa.planning(). stations.available integer. Vector available stations stratum. number..tows integer. Number total stations. output.file character string. Output directory.","code":""},{"path":[]},{"path":"/reference/allocate.effort.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Allocate stations across strata — allocate.effort","text":"Ned Laman ned.laman@noaa.gov","code":""},{"path":"/reference/depth_mods_2023.html","id":null,"dir":"Reference","previous_headings":"","what":"Name_of_the_data1 — depth_mods_2023","title":"Name_of_the_data1 — depth_mods_2023","text":"Description_of_the_Data","code":""},{"path":"/reference/depth_mods_2023.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Name_of_the_data1 — depth_mods_2023","text":"","code":"depth_mods_2023"},{"path":"/reference/depth_mods_2023.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Name_of_the_data1 — depth_mods_2023","text":"data frame 10000 rows 2 variables: Col1 description Col1 Col2 description Col2","code":""},{"path":"/reference/D_gct.html","id":null,"dir":"Reference","previous_headings":"","what":"Name_of_the_data2 — D_gct","title":"Name_of_the_data2 — D_gct","text":"Description_of_the_Data","code":""},{"path":"/reference/D_gct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Name_of_the_data2 — D_gct","text":"","code":"D_gct"},{"path":"/reference/D_gct.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Name_of_the_data2 — D_gct","text":"data frame 10000 rows 2 variables: Col1 description Col1 Col2 description Col2","code":""},{"path":"/reference/get.ai.stations.html","id":null,"dir":"Reference","previous_headings":"","what":"Query available Aleutian Islands stations — get.ai.stations","title":"Query available Aleutian Islands stations — get.ai.stations","text":"script translation PL/SQL procedure stored AI schema Oracle. utilizes functionality creating/dropping tables Oracle using sqlSave place Global Temporary table strategy utilized PL/SQL procedure. function also updates selection AI candidate stations incorporate designations trawlability stored AI.AIGRID_GIS table originating electronic station logs kept aboard vessel FPC. Date last modified: 06/19/2019","code":""},{"path":"/reference/get.ai.stations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query available Aleutian Islands stations — get.ai.stations","text":"","code":"get.ai.stations(   channel = NA,   schema = \"AIGOA_WORK_DATA\",   pwrd = NA,   survey = \"AI\" )"},{"path":"/reference/get.ai.stations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query available Aleutian Islands stations — get.ai.stations","text":"channel open connection object. Created RODBC::odbcConnect() schema character string. SQL schema name. Defaults AIGOA_WORK_DATA pwrd character string. SQL password survey character string. Defaults \"AI\" Aleutian Islands","code":""},{"path":"/reference/get.ai.stations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query available Aleutian Islands stations — get.ai.stations","text":"dataframe candidate stations (field stationid) Aleutian  Islands bottom trawl surveys includes station centroid (fields  longitude & latitude decimal degrees) stratum id.","code":""},{"path":"/reference/get.ai.stations.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Query available Aleutian Islands stations — get.ai.stations","text":"Ned Laman ned.laman@noaa.gov","code":""},{"path":"/reference/get.planning.data.html","id":null,"dir":"Reference","previous_headings":"","what":"Stratum-level catch stats — get.planning.data","title":"Stratum-level catch stats — get.planning.data","text":"Planning data generated schema-dependent stored procedure (STATION_PLANNING) Oracle. Average standard deviation CPUE hauls subset preselected species calculated year stratum id. Created 06/19/2019","code":""},{"path":"/reference/get.planning.data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stratum-level catch stats — get.planning.data","text":"","code":"get.planning.data(   channel = NA,   survey = \"AI\",   schema = \"AIGOA_WORK_DATA\",   pwrd = pwrd )"},{"path":"/reference/get.planning.data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stratum-level catch stats — get.planning.data","text":"channel open connection object. Created RODBC::odbcConnect() survey character string. Defaults \"AI\" Aleutian Islands schema character string. SQL schema name. Defaults AIGOA_WORK_DATA pwrd character string. SQL password","code":""},{"path":"/reference/get.planning.data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stratum-level catch stats — get.planning.data","text":"dataframe containing: values inform allocation stations (effort) survey strata.","code":""},{"path":"/reference/get.planning.data.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Stratum-level catch stats — get.planning.data","text":"Ned Laman ned.laman@noaa.gov","code":""},{"path":"/reference/goa.planning.html","id":null,"dir":"Reference","previous_headings":"","what":"Main wrapper function for planning GAP STRS survey in the AI-GOA — goa.planning","title":"Main wrapper function for planning GAP STRS survey in the AI-GOA — goa.planning","text":"Modifications 6/19/2019: Encapsulated creation AI_STATIONS list candidate stations creating PLANNING_DATA table R functions called goa.planning() allocate.effort, respectively. entailed intake uid, pwd parameters passing along survey parameter functions. Also changed data constraints AI stations include good Ocean Hope stations 1991 yet replicated since conditioned general rule using \"previously successful tows\" consideration trawlability field populated AI.AIGRID_GIS electronic station logs maintained vessel. routine written project functional Aleutian Islands. Gulf Alaska station allocation originates old SPLUS code curated Paul von Szalay. Modifications 1/20/2016 Added csv output addition xlsx workbook identified number..tows Modification 12/19/2013 Added readline choose.dir functions accept parameter inputs. Changed write.table reporting allocation table writing XLSX file Modifications 12/18/2013 Initially just changing indentation line breaks get preferred code form added \", believeNRows = FALSE\" sqlQuery's deal version 3.0.1 R.","code":""},{"path":"/reference/goa.planning.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Main wrapper function for planning GAP STRS survey in the AI-GOA — goa.planning","text":"","code":"goa.planning(selection.type = \"random\", min.size = 5)"},{"path":"/reference/goa.planning.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Main wrapper function for planning GAP STRS survey in the AI-GOA — goa.planning","text":"Ned Laman ned.laman@noaa.gov","code":""},{"path":"/reference/goa_allocate_stations.html","id":null,"dir":"Reference","previous_headings":"","what":"Gulf of Alaska Bottom Trawl Survey: Allocate stations across strata — goa_allocate_stations","title":"Gulf of Alaska Bottom Trawl Survey: Allocate stations across strata — goa_allocate_stations","text":"Allocates stations Gulf Alaska stratified random design, last restratified 2023. Species information incorporated survey years 1996-2021. Bethel algorithm used conduct multispecies station allocation.","code":""},{"path":"/reference/goa_allocate_stations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gulf of Alaska Bottom Trawl Survey: Allocate stations across strata — goa_allocate_stations","text":"","code":"goa_allocate_stations(   n = 550,   min_n_per_stratum = 4,   species = c(\"arrowtooth flounder\", \"Pacific cod\", \"walleye pollock\", \"rex sole\",     \"flathead sole\", \"Pacific halibut\", \"southern rock sole\", \"northern rock sole\",     \"Pacific ocean perch\", \"silvergray rockfish\", \"northern rockfish\", \"dusky rockfish\",     \"BS and RE rockfishes\", \"Dover sole\", \"shortspine thornyhead\"),   max_iter = 5000,   trawl = c(\"Y\", \"N\", \"UNK\")[c(1, 3)],   year = 2025 )"},{"path":"/reference/goa_allocate_stations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gulf of Alaska Bottom Trawl Survey: Allocate stations across strata — goa_allocate_stations","text":"n integer.Total number stations min_n_per_stratum integer. Minimum number stations assign stratum species character vector. See example github readme max_iter integer. Maximum number times bethel algorithm run converge `n`. trawl character vector. Options \"Y\" trawlable, \"N\" untrawlable, \"UNK\" unknown trawlablity. year integer. year integer used seed random number generator drawing random stations.","code":""},{"path":"/reference/goa_allocate_stations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gulf of Alaska Bottom Trawl Survey: Allocate stations across strata — goa_allocate_stations","text":"named list elements: 1) ms_allocation: vector, allocation `n` stations across strata using                   information `species` vector. 2) drawn_stations: dataframe `n` row 15 fields. Notable fields : STATIONID Station ID grid station resides. format station id XX-YY XX grid location W-E axis YY grid location N-S axis. STRATUM Stratum ID. 2025 restratification stratum id formatted year stratification created (.e., 2025), followed \"_\" three digit code format ABC similar format used historical GOA survey design. second digit (B) refers managment area (1: Shumagin, 2: Chirikof, 3: Kodiak, 4: Yakutat, 5: Southeastern). first digit () denotes relative depth stratum, 0 shallowest stratum 5 deepest stratum. management area different depth strata, digit comparable among management areas, just within management area, e.g., 2023_010 shallower 2023_110. third digit C replicate counter case multiple strata within management area x depth bin combination (replicates 2023 GOA stratification, digit always zero). last digit consistent historical GOA strata ids. AREA_KM2 area station km^2 TRAWLABLE_AREA_KM2 trawlable area within station km^2 PERIMETER_KM perimeter station km CENTER_LAT, CENTER_LONG Latitude longitude station centroid","code":""},{"path":"/reference/goa_allocate_stations.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Gulf of Alaska Bottom Trawl Survey: Allocate stations across strata — goa_allocate_stations","text":"Zack Oyafuso zack.oyafuso@noaa.gov","code":""},{"path":"/reference/goa_stations_2025.html","id":null,"dir":"Reference","previous_headings":"","what":"Name_of_the_data3 — goa_stations_2025","title":"Name_of_the_data3 — goa_stations_2025","text":"Description_of_the_Data","code":""},{"path":"/reference/goa_stations_2025.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Name_of_the_data3 — goa_stations_2025","text":"","code":"goa_stations_2025"},{"path":"/reference/goa_stations_2025.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Name_of_the_data3 — goa_stations_2025","text":"data frame 10000 rows 2 variables: Col1 description Col1 Col2 description Col2","code":""},{"path":"/reference/optim_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Name_of_the_data4 — optim_df","title":"Name_of_the_data4 — optim_df","text":"Description_of_the_Data","code":""},{"path":"/reference/optim_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Name_of_the_data4 — optim_df","text":"","code":"optim_df"},{"path":"/reference/optim_df.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Name_of_the_data4 — optim_df","text":"data frame 10000 rows 2 variables: Col1 description Col1 Col2 description Col2","code":""},{"path":"/reference/pick.gridpoints.html","id":null,"dir":"Reference","previous_headings":"","what":"Randomly sample stations — pick.gridpoints","title":"Randomly sample stations — pick.gridpoints","text":"Based particular allocation stations across strata, randomly sample station locations.","code":""},{"path":"/reference/pick.gridpoints.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Randomly sample stations — pick.gridpoints","text":"","code":"pick.gridpoints(allocations, user.name.password, survey, points, min.size = 5)"},{"path":"/reference/pick.gridpoints.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Randomly sample stations — pick.gridpoints","text":"allocations integer. Named vector station allocations across strata.. survey character string. Defaults \"AI\" Aleutian Islands points dataframe potential station locations queried SQL, called AIGOASurveyPlanning::goa.planning().","code":""},{"path":"/reference/pick.gridpoints.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Randomly sample stations — pick.gridpoints","text":"Ned Laman ned.laman@noaa.gov","code":""},{"path":"/reference/plot.allocations.by.stratum.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function for plotting allocation plots by stratum — plot.allocations.by.stratum","title":"Wrapper function for plotting allocation plots by stratum — plot.allocations.by.stratum","text":"Creates AllocationPlotsByStratum.pdf, includes output AIGOASurveyPlanning::plot.strata.stations well output (finish!) Created 12/18/13 Notes Ned: added \", believeNRows = FALSE\" deal version 3.0.1 R 64-bit environment","code":""},{"path":"/reference/plot.allocations.by.stratum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function for plotting allocation plots by stratum — plot.allocations.by.stratum","text":"","code":"# S3 method for allocations.by.stratum plot(answer.years, number.tows, strata, channel, survey, output.file)"},{"path":"/reference/plot.allocations.by.stratum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function for plotting allocation plots by stratum — plot.allocations.by.stratum","text":"answer.years numeric array dimensions (number strata, number species, number years) weighted optimal allocation (see reference...) number.tows numeric. Vector output AIGOASurveyPlanning::allocate.effort strata Dataframe. Output AIGOASurveyPlanning::allocate.effort channel open connection object. Created RODBC::odbcConnect() survey character string. Defaults \"AI\" Aleutian Islands output.file character string. Output directory.","code":""},{"path":"/reference/plot.allocations.by.stratum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function for plotting allocation plots by stratum — plot.allocations.by.stratum","text":"AllocationPlotsByStratum.pdf saved output.file directory","code":""},{"path":"/reference/plot.allocations.by.stratum.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper function for plotting allocation plots by stratum — plot.allocations.by.stratum","text":"Ned Laman ned.laman@noaa.gov","code":""},{"path":"/reference/plot.strata.stations.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot effort across stratum — plot.strata.stations","title":"Plot effort across stratum — plot.strata.stations","text":"Creates three barplots: 1) Number stations allocated stratum 2) Density station allocations across strata 3) Density station allocations across depth strata","code":""},{"path":"/reference/plot.strata.stations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot effort across stratum — plot.strata.stations","text":"","code":"# S3 method for strata.stations plot(number.tows, strata, survey)"},{"path":"/reference/plot.strata.stations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot effort across stratum — plot.strata.stations","text":"number.tows numeric. Vector output AIGOASurveyPlanning::allocate.effort strata Dataframe. Output AIGOASurveyPlanning::allocate.effort survey character string. Defaults \"AI\" Aleutian Islands","code":""},{"path":"/reference/plot.strata.stations.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plot effort across stratum — plot.strata.stations","text":"Ned Laman ned.laman@noaa.gov","code":""},{"path":"/reference/vessel.allocation.html","id":null,"dir":"Reference","previous_headings":"","what":"Allocate stations across vessels — vessel.allocation","title":"Allocate stations across vessels — vessel.allocation","text":"Allocate stations across vessels","code":""},{"path":"/reference/vessel.allocation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Allocate stations across vessels — vessel.allocation","text":"","code":"vessel.allocation(stations, strata, survey)"},{"path":"/reference/vessel.allocation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Allocate stations across vessels — vessel.allocation","text":"stations dataframe sampled stations created interanlly AIGOASurveyPlanning::goa.planning() strata dataframe strata characteristics created AIGOASurveyPlanning::allocate.effort() survey character string. Defaults \"AI\" Aleutian Islands","code":""},{"path":"/reference/vessel.allocation.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Allocate stations across vessels — vessel.allocation","text":"Ned Laman ned.laman@noaa.gov","code":""}]
